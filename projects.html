<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nautilus.CIM - –ü—Ä–æ–µ–∫—Ç—ã</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
     <div class="app-container">
        <!-- SIDEBAR -->
        <div class="sidebar" id="sidebar">
            <button class="sidebar-toggle sidebar-open" onclick="toggleSidebar()" aria-label="Toggle sidebar">
                <span class="toggle-icon">‚ò∞</span>
            </button>

            <div class="sidebar-nav">
                            <div class="sidebar-header">
                <strong>Nautilus.CIM</strong>
            </div>
                <a href="index.html" class="nav-item">üìä –ì–ª–∞–≤–Ω–∞—è</a>
                <!-- <a href="projects.html" class="nav-item active">üìÅ –ü—Ä–æ–µ–∫—Ç—ã</a> -->
                <!-- Projects Tree -->
                <div class="nav-tree-item">
                    <button class="nav-tree-toggle" onclick="handleProjectsClick()" aria-expanded="true" aria-label="Toggle projects list">
                        <span class="tree-icon">‚ñ∂</span>
                        üìÅ –ü—Ä–æ–µ–∫—Ç—ã
                    </button>
                    <div id="projects-tree-container" class="nav-tree-children nav-tree-collapsed">
                        <!-- <a href="projects.html" class="nav-tree-link">‚Üí –í—Å–µ –ø—Ä–æ–µ–∫—Ç—ã</a> -->
                        <div id="projects-list-tree"></div>
                        <!-- <a href="projects.html" class="nav-tree-link">‚Üí –í—Å–µ –ø—Ä–æ–µ–∫—Ç—ã</a> -->
                    </div>
                </div>

                <!-- <a href="models.html" class="nav-item">üìã –ú–æ–¥–µ–ª–∏</a> -->
                <!-- <a href="profiles.html" class="nav-item">‚öôÔ∏è –ü—Ä–æ—Ñ–∏–ª–∏</a> -->

                <div class="nav-section-title">–¢–µ–∫—É—â–∏–π –ø—Ä–æ–µ–∫—Ç</div>
                <div id="current-project" style="padding: 10px 15px; font-size: 12px; color: rgba(255,255,255,0.7);">
                    –ù–µ—Ç –ø—Ä–æ–µ–∫—Ç–∞
                </div>

                <div class="nav-section-title">–î–µ–π—Å—Ç–≤–∏—è</div>
                <div class="nav-item" onclick="openModal('new-project-modal')">+ –ù–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç</div>
                <!-- <div class="nav-item" onclick="openModal('new-model-modal')">‚¨ÜÔ∏è –ò–º–ø–æ—Ä—Ç –º–æ–¥–µ–ª–∏</div> -->
                <a href="compare.html" class="nav-item">üîç –°—Ä–∞–≤–Ω–µ–Ω–∏–µ</a>
            </div>
        </div>
        <div class="sidebar-resize-handle" id="sidebar-resize-handle"></div>

        <!-- MAIN CONTENT -->
        <div class="main-content">
            <div class="toolbar">
                <div class="toolbar-title">–ü—Ä–æ–µ–∫—Ç—ã</div>
                <div class="toolbar-actions">
                    <button class="btn btn-primary" onclick="openModal('new-project-modal')">+ –ù–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç</button>
                    <button class="btn btn-secondary" onclick="location.reload()">üîÑ –û–±–Ω–æ–≤–∏—Ç—å</button>
                </div>
            </div>

            <div class="content-area">
                <div class="search-box" id="search-box">
                    <span class="search-icon">üîç</span>
                    <input type="text" class="search-input" id="search-projects" placeholder="–ü–æ–∏—Å–∫ –ø—Ä–æ–µ–∫—Ç–æ–≤..." oninput="filterProjects()">
                </div>

                <div id="projects-list"></div>

                <!-- Models and Profiles containers (hidden by default) -->
                <div id="models-container" class="hidden">
                    <div class="split-view">
                        <div class="split-left">
                            <div class="flex-between mb-15">
                                <h3 class="no-margin">–ú–æ–¥–µ–ª–∏</h3>
                            </div>
                            <div id="models-list"></div>
                        </div>
                        <div class="split-right">
                            <div id="model-details"></div>
                        </div>
                    </div>
                </div>

                <div id="profiles-container" class="mt-30 hidden">
                    <div class="divider mb-15"></div>
                    <div class="split-view">
                        <div class="split-left">
                            <div class="flex-between mb-15">
                                <h3 class="no-margin">–ü—Ä–æ—Ñ–∏–ª–∏</h3>
                            </div>
                            <div id="profiles-list"></div>
                        </div>
                        <div class="split-right">
                            <div id="profile-details"></div>
                        </div>
                    </div>
                </div>
                
                <div class="quick-actions hidden" id="open-project-action">
                    <button class="btn btn-primary" onclick="openCurrentProject()">–û—Ç–∫—Ä—ã—Ç—å –ø—Ä–æ–µ–∫—Ç</button>
                </div>

            </div>
        </div>
    </div>

    <!-- MODAL: New Project -->
    <div id="new-project-modal" class="modal">
        <div class="modal-content">
            <div class="modal-title">–°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç</div>
            <div class="form-group">
                <label class="form-label">–ù–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞ *</label>
                <input type="text" id="project-name" class="form-input" placeholder="–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ">
            </div>
            <div class="form-group">
                <label class="form-label">–û–ø–∏—Å–∞–Ω–∏–µ</label>
                <textarea id="project-desc" class="form-textarea" placeholder="–û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞"></textarea>
            </div>
            <div class="form-group">
                <label class="form-label">–í–µ—Ä—Å–∏—è</label>
                <input type="text" id="project-version" class="form-input" value="1.0">
            </div>
            <div class="modal-buttons">
                <button class="btn btn-secondary" onclick="closeModal('new-project-modal')">–û—Ç–º–µ–Ω–∞</button>
                <button class="btn btn-primary" onclick="createProject()">–°–æ–∑–¥–∞—Ç—å</button>
            </div>
        </div>
    </div>

    <!-- MODAL: Edit Project -->
    <div id="edit-project-modal" class="modal">
        <div class="modal-content">
            <div class="modal-title">–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–µ–∫—Ç</div>
            <div class="form-group">
                <label class="form-label">–ù–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞ *</label>
                <input type="text" id="edit-project-name" class="form-input">
            </div>
            <div class="form-group">
                <label class="form-label">–û–ø–∏—Å–∞–Ω–∏–µ</label>
                <textarea id="edit-project-desc" class="form-textarea"></textarea>
            </div>
            <div class="form-group">
                <label class="form-label">–í–µ—Ä—Å–∏—è</label>
                <input type="text" id="edit-project-version" class="form-input">
            </div>
            <div class="modal-buttons">
                <button class="btn btn-secondary" onclick="closeModal('edit-project-modal')">–û—Ç–º–µ–Ω–∞</button>
                <button class="btn btn-primary" onclick="saveProjectEdit()">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
            </div>
        </div>
    </div>

    

    <script src="data.js"></script>
    <script src="sidebar.js"></script>
    <script src="projects.js"></script>
</body>
</html>
